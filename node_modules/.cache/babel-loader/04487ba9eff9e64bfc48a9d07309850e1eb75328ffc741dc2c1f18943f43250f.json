{"ast":null,"code":"import{useEffect,useRef}from\"react\";import axios from\"axios\";import $ from'jquery';import DataTables from'datatables.net-dt';import AppHeader from\"./AppHeader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Nodebtlist(){useEffect(function(){if(!sessionStorage.getItem(\"PWAusr\")){window.location.replace('/nodebt');}var qType={req_name:\"nodebt_detial_all\"};var tmp={};var obj=[];//axios.post(\"http://reg2intranet.pwa.co.th:9000/nodebt\",qType)\naxios.post(\"https://reg2intranet.pwa.co.th/api/nodebt\",qType).then(function(nodebtRes){for(var i=0;i<nodebtRes.data.length;i++){//console.log(nodebtRes.data[i])\nvar tmp={\"cus_code\":nodebtRes.data[i].CUS_CODE,\"org_owner_id\":nodebtRes.data[i].ORG_OWNER_ID+\" - \"+nodebtRes.data[i].short_name,\"org_name\":\"<span>\"+nodebtRes.data[i].CUST_NAME+\"</span>\",\"mtr_state\":\"<span>\"+nodebtRes.data[i].MRT_STATE_ID+\"</span>\",\"remark\":\"<span>\"+nodebtRes.data[i].REMARKS+\"</span>\",\"last_present_meter\":\"<span>\"+nodebtRes.data[i].PRESENT_METER_DATE+\"</span>\"};obj.push(tmp);}$('#tb_nodebtList tbody').empty();$('#tb_nodebtList').DataTable({data:obj,\"bDestroy\":true,\"pageLength\":20,\"order\":[[1,\"asc\"]],columns:[{data:'cus_code'},{data:'org_owner_id'},{data:'org_name'},{data:'mtr_state'},{data:'remark'},{data:'last_present_meter'}]});});},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 col-sm-12 col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-primary card-outline\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h5\",{style:{fontWeight:'bold',color:'#3c8dbc'},children:[\"\\u0E23\\u0E32\\u0E22\\u0E07\\u0E32\\u0E19\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E19\\u0E49\\u0E33\\u0E17\\u0E35\\u0E48\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E44\\u0E14\\u0E49\\u0E15\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E19\\u0E35\\u0E49 (\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25 \\u0E13 \\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48 \",/*#__PURE__*/_jsx(\"span\",{id:\"DataDate\"}),\" )\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"table\",{id:\"tb_nodebtList\",className:\"compact row-border\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{style:{color:'black'},children:[\"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48 \\u0E1C\\u0E0A\\u0E19. \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-list-ol\"})]}),/*#__PURE__*/_jsx(\"th\",{style:{color:'black'},children:\"\\u0E2A\\u0E32\\u0E02\\u0E32 \"}),/*#__PURE__*/_jsx(\"th\",{style:{color:'black'},children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D - \\u0E2A\\u0E01\\u0E38\\u0E25 \"}),/*#__PURE__*/_jsx(\"th\",{style:{color:'black'},children:\"\\u0E2A\\u0E20\\u0E32\\u0E1E\\u0E21\\u0E32\\u0E15\\u0E23 \"}),/*#__PURE__*/_jsx(\"th\",{style:{color:'black'},children:\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30 \"}),/*#__PURE__*/_jsx(\"th\",{style:{color:'black'},children:\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E48\\u0E32\\u0E19\\u0E21\\u0E32\\u0E15\\u0E23\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14 \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{display:'none'},children:\"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48 \\u0E1C\\u0E0A\\u0E19.\"}),/*#__PURE__*/_jsx(\"th\",{style:{display:'none'},children:\"\\u0E2A\\u0E32\\u0E02\\u0E32\"}),/*#__PURE__*/_jsx(\"th\",{style:{display:'none'},children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D - \\u0E2A\\u0E01\\u0E38\\u0E25\"}),/*#__PURE__*/_jsx(\"th\",{style:{display:'none'},children:\"\\u0E2A\\u0E20\\u0E32\\u0E1E\\u0E21\\u0E32\\u0E15\\u0E23\"}),/*#__PURE__*/_jsx(\"th\",{style:{display:'none'},children:\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"}),/*#__PURE__*/_jsx(\"th\",{style:{display:'none'},children:\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E48\\u0E32\\u0E19\\u0E21\\u0E32\\u0E15\\u0E23\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\"})]})})]}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,color:'red'},children:\" *** \\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38 : \\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E40\\u0E1B\\u0E47\\u0E19\\u0E23\\u0E32\\u0E22\\u0E27\\u0E31\\u0E19\"})]})]})})})]})});}export default Nodebtlist;","map":{"version":3,"names":["useEffect","useRef","axios","$","DataTables","AppHeader","jsx","_jsx","jsxs","_jsxs","Nodebtlist","sessionStorage","getItem","window","location","replace","qType","req_name","tmp","obj","post","then","nodebtRes","i","data","length","CUS_CODE","ORG_OWNER_ID","short_name","CUST_NAME","MRT_STATE_ID","REMARKS","PRESENT_METER_DATE","push","empty","DataTable","columns","children","className","style","fontWeight","color","id","display","fontSize"],"sources":["I:/Programming/React/nodebt/src/nodebt_list.js"],"sourcesContent":["import { useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport $ from 'jquery';\r\nimport DataTables from 'datatables.net-dt';\r\nimport AppHeader from \"./AppHeader\";\r\n\r\nfunction Nodebtlist(){\r\n    useEffect( ()=>{\r\n        if(!sessionStorage.getItem(\"PWAusr\")){\r\n            window.location.replace('/nodebt');\r\n        }\r\n        const qType = {req_name: \"nodebt_detial_all\"}\r\n        var tmp = {};\r\n        var obj = [];\r\n        //axios.post(\"http://reg2intranet.pwa.co.th:9000/nodebt\",qType)\r\n        axios.post(\"https://reg2intranet.pwa.co.th/api/nodebt\",qType)\r\n        .then((nodebtRes) => {\r\n            for (var i = 0; i < nodebtRes.data.length; i ++) {\r\n                //console.log(nodebtRes.data[i])\r\n                var tmp = \r\n                    {\r\n                        \"cus_code\":nodebtRes.data[i].CUS_CODE,\r\n                        \"org_owner_id\":nodebtRes.data[i].ORG_OWNER_ID +\" - \"+ nodebtRes.data[i].short_name,\r\n                        \"org_name\":\"<span>\"+nodebtRes.data[i].CUST_NAME+\"</span>\",\r\n                        \"mtr_state\":\"<span>\"+nodebtRes.data[i].MRT_STATE_ID+\"</span>\",\r\n                        \"remark\":\"<span>\"+nodebtRes.data[i].REMARKS+\"</span>\",\r\n                        \"last_present_meter\":\"<span>\"+nodebtRes.data[i].PRESENT_METER_DATE+\"</span>\"\r\n                    }\r\n               obj.push(tmp);\r\n              }\r\n            $('#tb_nodebtList tbody').empty();\r\n             $('#tb_nodebtList').DataTable( {\r\n                data: obj,\r\n                \"bDestroy\": true,\r\n                \"pageLength\": 20,\r\n                \"order\": [[ 1, \"asc\" ]],\r\n                columns: [\r\n                    { data: 'cus_code' },\r\n                    { data: 'org_owner_id' },\r\n                    { data: 'org_name' },\r\n                    { data: 'mtr_state' },\r\n                    { data: 'remark' },\r\n                    { data: 'last_present_meter' }\r\n                ]\r\n              });\r\n\r\n        });\r\n\r\n    },[]);\r\n    return(\r\n        <div>\r\n            <div className=\"container-fluid\">\r\n                <br />\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12 col-sm-12 col-12\">\r\n                        <div className=\"card card-primary card-outline\">\r\n                        <div className=\"card-header\">\r\n                            <h5 style={{fontWeight: 'bold', color: '#3c8dbc'}}>รายงานผู้ใช้น้ำที่ยังไม่ได้ตั้งหนี้ (ข้อมูล ณ วันที่ <span id=\"DataDate\" /> )</h5>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <table id=\"tb_nodebtList\" className=\"compact row-border\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style={{color: 'black'}}>เลขที่ ผชน. <i className=\"fas fa-list-ol\" /></th>\r\n                                    <th style={{color: 'black'}}>สาขา </th>\r\n                                    <th style={{color: 'black'}}>ชื่อ - สกุล </th>\r\n                                    <th style={{color: 'black'}}>สภาพมาตร </th>\r\n                                    <th style={{color: 'black'}}>สถานะ </th>\r\n                                    <th style={{color: 'black'}}>วันที่อ่านมาตรล่าสุด </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            </tbody>\r\n                            <tfoot>\r\n                                <tr>\r\n                                    <th style={{display: 'none'}}>เลขที่ ผชน.</th>\r\n                                    <th style={{display: 'none'}}>สาขา</th>\r\n                                    <th style={{display: 'none'}}>ชื่อ - สกุล</th>\r\n                                    <th style={{display: 'none'}}>สภาพมาตร</th>\r\n                                    <th style={{display: 'none'}}>สถานะ</th>\r\n                                    <th style={{display: 'none'}}>วันที่อ่านมาตรล่าสุด</th>\r\n                                </tr>\r\n                            </tfoot>\r\n                            </table>\r\n                            <span style={{fontSize: 12, color: 'red'}}> *** หมายเหตุ : ข้อมูลแสดงเป็นรายวัน</span>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Nodebtlist;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}